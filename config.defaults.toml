[paths]
# Optional in defaults. Set in config.local.toml for your project.
repo_root = ""
requirements_root = "./requirements"
docs_dir = ""
# Optional. If empty, defaults to <docs_dir>/product-operating-system.
product_vision_dir = ""

[loops]
# Recommended start: 3, valid 2-4
window_size = 3
po_poll_seconds = 20
ops_poll_seconds = 20
max_retries = 2
retry_delay_seconds = 2

[flow]
# auto | standard | dev-only
default_mode = "standard"
idle_poll_seconds = 300
max_retries = 2
retry_delay_seconds = 2

[run_defaults]
# auto | standard | dev-only
flow = "standard"
max_req = 0
verbose = false
detail = false
preflight = "soft"

[preflight]
snapshot_commit_message_prefix = "chore(flow): preflight snapshot"

[deploy]
# check | commit | commit_push
mode = "commit"
final_push_on_success = true
require_clean_start_for_commits = true

[po]
# intake | vision
default_mode = "intake"
vision_max_cycles = 100
vision_max_requirements = 1000
vision_stable_cycles = 2

[dev_routing]
# fullstack_only | split
mode = "fullstack_only"
default_scope = "fullstack"

[dev_agents]
use_fe = false
use_be = false
use_fs = true

[qa]
mandatory_checks = []

[models]
# Strong
reqeng = "gpt-5.3-codex-spark"
po = "gpt-5.3-codex"
arch = "gpt-5.3-codex"
sec = "gpt-5.3-codex"
dev_fe = "gpt-5.3-codex-spark"
dev_be = "gpt-5.3-codex-spark"
dev_fs = "gpt-5.3-codex-spark"
qa = "gpt-5.3-codex-spark"
ux = "gpt-5.3-codex-spark"
deploy = "gpt-5.3-codex-spark"
default = "gpt-5.3-codex-spark"

[codex]
model = "gpt-5.3-codex-spark"
approval_policy = "never"
sandbox_mode = "danger-full-access"
model_reasoning_effort = "xhigh"
